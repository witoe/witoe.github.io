"use strict";(self.webpackChunkblog2=self.webpackChunkblog2||[]).push([[3886],{8544:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-44f2b7d6",path:"/python/notes_for_official_tutorial.html",title:"",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Errors and Exceptions",slug:"errors-and-exceptions",children:[]},{level:2,title:"Classes",slug:"classes",children:[{level:3,title:"Namespaces and Scope",slug:"namespaces-and-scope",children:[]},{level:3,title:"classes",slug:"classes-1",children:[]}]}],filePathRelative:"python/notes_for_official_tutorial.md",git:{updatedTime:163774408e4,contributors:[{name:"guyong",email:"jcel@qq.com",commits:1}]}}},5603:(n,s,a)=>{a.r(s),a.d(s,{default:()=>i});var e=a(6252);const t=(0,e.Uk)("Notes for "),p={href:"https://docs.python.org/3/tutorial/index.html",target:"_blank",rel:"noopener noreferrer"},o=(0,e.Uk)("official tutorial"),c=(0,e.uE)('<h2 id="errors-and-exceptions" tabindex="-1"><a class="header-anchor" href="#errors-and-exceptions" aria-hidden="true">#</a> Errors and Exceptions</h2><p>The sole argument to raise indicates the exception to be raised. This must be either an exception instance or an exception class (a class that derives from Exception). If an exception class is passed, it will be implicitly instantiated by calling its constructor with no arguments.</p><p>Exceptions should typically be derived from the Exception class, either directly or indirectly.</p><h2 id="classes" tabindex="-1"><a class="header-anchor" href="#classes" aria-hidden="true">#</a> Classes</h2><p>In C++ terminology, normally class members (including the data members) are public (except see below Private Variables), and all member functions are virtual.</p><h3 id="namespaces-and-scope" tabindex="-1"><a class="header-anchor" href="#namespaces-and-scope" aria-hidden="true">#</a> Namespaces and Scope</h3><p>Namespaces:</p><ul><li>global of modules <code>__main__</code>, <code>builtins</code></li><li>local of functions</li></ul><p>A namespace is a mapping from names to objects. Most namespaces are currently implemented as Python dictionaries, but that’s normally not noticeable in any way (except for performance), and it may change in the future.</p><p>The local namespace for a function is created when the function is called, and deleted when the function returns or raises an exception that is not handled within the function. Of course, recursive invocations each have their own local namespace.</p><p>A scope is a textual region of a Python program where a namespace is directly accessible. “Directly accessible” here means that an unqualified reference to a name attempts to find the name in the namespace.</p><p>Although scopes are determined statically, they are used dynamically: LEGB searching rules.</p><p>It is important to realize that scopes are determined textually: the global scope of a function defined in a module is that module’s namespace, no matter from where or by what alias the function is called. On the other hand, the actual search for names is done dynamically, at run time — however, the language definition is evolving towards static name resolution, at “compile” time, so don’t rely on dynamic name resolution! (In fact, local variables are already determined statically.)</p><p>In fact, all operations that introduce new names use the local scope: in particular, import statements and function definitions bind the module or function name in the local scope.</p><h3 id="classes-1" tabindex="-1"><a class="header-anchor" href="#classes-1" aria-hidden="true">#</a> classes</h3><p>When a class definition is entered, a new namespace is created, and used as the local scope — thus, all assignments to local variables go into this new namespace. In particular, function definitions bind the name of the new function here.</p><p>When a class definition is left normally (via the end), a class object is created. Class objects support two kinds of operations: attribute references and instantiation. Valid attribute names are all the names that were in the class’s namespace when the class object was created.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>\n   i <span class="token operator">=</span> <span class="token number">0</span>\n   l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n   <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>\n       <span class="token keyword">pass</span>\n\na <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>\nb <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token comment"># 0</span>\nb<span class="token punctuation">.</span>i <span class="token operator">=</span> <span class="token number">1</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>i<span class="token punctuation">,</span> b<span class="token punctuation">.</span>i<span class="token punctuation">)</span> <span class="token comment"># 0,1</span>\nb<span class="token punctuation">.</span>l <span class="token operator">+=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>l<span class="token punctuation">,</span> b<span class="token punctuation">.</span>l<span class="token punctuation">)</span> <span class="token comment">#[1,2] [1,2]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span>\n    i <span class="token operator">=</span> <span class="token number">0</span>\n    l <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n    j <span class="token operator">=</span> i\n    <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>\n        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;f1:&#39;</span><span class="token punctuation">,</span>A<span class="token punctuation">.</span>i<span class="token punctuation">,</span> A<span class="token punctuation">.</span>j<span class="token punctuation">)</span>   <span class="token comment"># must use A to reference i,j</span>\n\n    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>\n        A<span class="token punctuation">.</span>f1<span class="token punctuation">(</span>self<span class="token punctuation">)</span>   <span class="token comment"># must use A to reference f1</span>\n\na <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token punctuation">)</span>\na<span class="token punctuation">.</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># f1: 0 0</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Each value is an object, and therefore has a class (also called its type). It is stored as <code>object.__class__</code>.</p><p>Derived classes may override methods of their base classes. Because methods have no special privileges when calling other methods of the same object, a method of a base class that calls another method defined in the same base class may end up calling a method of a derived class that overrides it. (For C++ programmers: all methods in Python are effectively virtual.)</p><p><code>isinstance()</code>, <code>issubclass()</code></p><p>Multiple inheritence: For most purposes, in the simplest cases, you can think of the search for attributes inherited from a parent class as depth-first, left-to-right, not searching twice in the same class where there is an overlap in the hierarchy.</p><p>private variables: e.g. <code>_spam</code> name mangling: e.g. <code>__update</code></p>',24),l={},i=(0,a(3744).Z)(l,[["render",function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("p",null,[t,(0,e._)("a",p,[o,(0,e.Wm)(a)])]),c],64)}]])},3744:(n,s)=>{s.Z=(n,s)=>{const a=n.__vccOpts||n;for(const[n,e]of s)a[n]=e;return a}}}]);